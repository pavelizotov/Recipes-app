{
  "short_name": "Рецепты",
  "name": "Цифровая книга рецептов",
  "icons": [
    {"src": "icons/icon-192.png", "sizes":"192x192", "type":"image/png"},
    {"src": "icons/icon-512.png", "sizes":"512x512", "type":"image/png"}
  ],
  "start_url": "/index.html",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#0a84ff"
}






const CACHE_NAME = 'recipes-app-v1';
const toCache = ['/', '/index.html', '/styles.css', '/app.js', '/manifest.json'];

self.addEventListener('install', e=>{
  e.waitUntil(caches.open(CACHE_NAME).then(c=>c.addAll(toCache)));
  self.skipWaiting();
});

self.addEventListener('activate', e=>{
  e.waitUntil(self.clients.claim());
});

self.addEventListener('fetch', e=>{
  const url = new URL(e.request.url);
  // try network for recipes.json then fallback to cache
  if(url.pathname.endsWith('recipes.json')){
    e.respondWith(fetch(e.request).catch(()=>caches.match(e.request)));
    return;
  }
  e.respondWith(caches.match(e.request).then(r=>r || fetch(e.request)));
});




[
  {
    "title": "Potato Rösti",
    "yield": "10-13 порций",
    "ingredients": [
      "12 картофелин",
      "Соль",
      "Щепотка hacoweiss powder"
    ],
    "method": "1. Натрите картофель и тщательно промойте в воде.\n2. Отожмите всю жидкость.\n3. Легко приправьте солью.\n4. Вакуумируйте плотно и прижмите.\n5. Готовьте на пару при 100°C 35 минут.\n6. Охладите в ледяной воде.\n7. Порционируйте при подаче."
  },
  {
    "title": "Red Pepper Purée",
    "yield": "x4",
    "ingredients": ["6 красных перцев","2 помидора","2 луковицы","½ головки чеснока","Шерри уксус","Оливковое масло","Тимьян","Розмарин"],
    "method": "1. Нарежьте, замаринуйте олив. маслом, уксусом и травами.\n2. Запекайте при 190°C 25 мин.\n3. Удалите травы, взбейте до гладкости, приправьте и пройдите через шино."
  },
  {
    "title": "Soft-Boiled Egg (Wachsei)",
    "ingredients": [],
    "method": "1. Готовьте на пару 69°C в течение 46 минут.\nДайте остыть 1 час, не в ледяной воде.\n2. Очистите и промойте от остатков белка.\n3. Храните желтки в масле до подачи."
  },
  {
    "title": "Duxelles",
    "ingredients": ["1 кг грибов","300 г лука","30 г чеснока","3 веточки тимьяна","3 веточки розмарина","4 лавровых листа","70 мл мадеры"],
    "method": "1. Мелко покрошить лук и чеснок.\n2. Грибы крупно.\n3. Обжарить лук и чеснок до золотистого.\n4. Деглазировать мадерой, добавить грибы и травы, готовить 1-1.5 часа пока не испарится жидкость."
  },
  {
    "title": "Truffle Cream",
    "yield": "x2-3",
    "ingredients": ["120 г желтка","30 г дижонской горчицы","350 г масла","10 г воды","Сок 1 лайма","60 г трюфельной пасты"],
    "method": "Эмульгировать желтки с горчицей и водой, добавить масло тонкой струйкой. Вмешать трюфельную пасту, приправить."
  },
  {
    "title": "Parmesan Espuma (для Paccheri)",
    "ingredients": ["30 г чеснока","600 г лука","650 г пармезана","1 л крема","1.5 л бульона","70 мл коньяка (Hennessy)"],
    "method": "Обжарить лук и чеснок, деглазировать коньяком, добавить бульон и уварить наполовину. Смешать, добавить крем и пармезан, слегка загустить и процедить."
  },
  {
    "title": "Porcini Sauce",
    "ingredients": ["2 кг замороженных белых грибов","5 луковиц","60 г чеснока","500 мл крема","1 л овощного бульона"],
    "method": "Обжарить лук и чеснок, добавить грибы, деглазировать вином, добавить бульон и уварить, смешать и процедить, добавить крем."
  },
  {
    "title": "Field Salad – Herb Pesto",
    "ingredients": ["1 пучок зелёного салата","2 пучка петрушки","3 пучка базилика","120 г пармезана","120 г оливкового масла","50 г жареных семян подсолнуха"],
    "method": "Бланшировать зелень, шокировать, высушить, измельчить ножом. Смешать и заморозить в Pacojet-подготовке."
  }
]
